<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Surprise ‚Äî Zindo Iviantri (Responsive)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #071229;
    --bg2: #020611;
    --card: rgba(255,255,255,0.03);
    --muted: #bfc7d6;
    --accent: #ff6b81;
    --accent-2: #ffd166;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    min-height:100vh;
    font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
    background: radial-gradient(1200px 600px at 10% 10%, #0b1b3a 0%, rgba(2,6,23,0.9) 35%, #020711 100%);
    color: #fff;
    display:flex;
    align-items:flex-start;            /* changed: allow card to start below top padding */
    justify-content:center;
    padding: clamp(12px, 2.5vw, 32px);
    padding-top: 10px;                 /* added: space below URL/search bar */
  }

  /* Card container: responsive width */
  .card{
    width: min(1150px, 96%);
    background: linear-gradient(180deg,var(--card), rgba(255,255,255,0.01));
    border-radius: calc(clamp(12px, 1.2vw, 20px));
    padding: clamp(14px, 1.6vw, 22px);
    position:relative;
    overflow:hidden;
    box-shadow: 0 18px 60px rgba(2,6,23,0.7);
  }

  header{
    display:flex;
    gap: clamp(12px,1.6vw,22px);
    align-items:center;
  }

  .initial{
    width: clamp(56px,6vw,88px);
    height: clamp(56px,6vw,88px);
    border-radius: 12px;
    display:grid;
    place-items:center;
    background: linear-gradient(135deg,var(--accent),var(--accent-2));
    color:#081226;
    font-weight:800;
    font-size: clamp(20px,3.2vw,36px);
  }

  h1{
    margin:0;
    font-size: clamp(16px,2.4vw,24px);
    line-height:1.05;
  }

  p.lead{
    margin:6px 0 0;
    color: var(--muted);
    font-size: clamp(12px,1.6vw,14px);
  }

  .controls{ display:flex; gap:10px; margin-top:12px; flex-wrap:wrap; }

  button{
    border: none;
    border-radius: 12px;
    padding: clamp(8px,1.2vw,12px) clamp(10px,1.6vw,16px);
    font-weight:700;
    cursor:pointer;
    font-size: clamp(12px,1.4vw,14px);
  }
  .btn-play{ background: linear-gradient(90deg,var(--accent),var(--accent-2)); color:#081226; box-shadow: 0 8px 20px rgba(255,107,129,0.08); }
  .btn-ghost{ background: transparent; border: 1px solid rgba(255,255,255,0.06); color: #fff; }

  /* main area: responsive grid */
  .main{
    display:grid;
    grid-template-columns: 1fr 380px;
    gap: clamp(12px,2vw,22px);
    margin-top: clamp(14px,2.2vw,22px);
  }

  @media (max-width:980px){
    .main{ grid-template-columns: 1fr; }
  }

  /* left column: viewer + thumbnails */
  .left{
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border-radius: 12px;
    padding: clamp(10px,1.2vw,14px);
    min-height: 340px;
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:stretch;
  }

  /* viewer keeps aspect ratio and is responsive */
  .viewer{
    width:100%;
    aspect-ratio: 16 / 10;
    border-radius: 10px;
    overflow:hidden;
    background:#061226;
    display:grid;
    place-items:center;
    position:relative;
  }
  .viewer img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transition: transform .25s ease;
    will-change: transform;
  }

  /* thumbnails responsive row */
  .thumbs{
    display:flex;
    gap:8px;
    flex-wrap:wrap;
    align-items:center;
    justify-content:flex-start;
  }
  .thumb{
    width: clamp(64px,9vw,110px);
    height: clamp(44px,6.5vw,72px);
    border-radius: 8px;
    overflow:hidden;
    cursor:pointer;
    border: 2px solid transparent;
    transition: transform .12s ease, border-color .12s ease;
    flex: 0 0 auto;
  }
  .thumb img{ width:100%; height:100%; object-fit:cover; display:block; }

  .thumb.active{ border-color: var(--accent); transform: scale(1.04); }

  /* right column: message + actions */
  .right{
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border-radius: 12px;
    padding: clamp(12px,1.4vw,16px);
    display:flex;
    flex-direction:column;
    gap:12px;
    min-height: 340px;
  }
  .message{
    background: transparent;
    padding: 10px;
    border-radius: 8px;
    height: 100%;
    overflow:auto;
    line-height:1.45;
    font-size: clamp(13px,1.4vw,15px);
    color: #f3f6fb;
    opacity: 0;               /* hidden initially */
    transition: opacity .45s ease;
  }
  .note{ color: var(--muted); font-size: clamp(12px,1.2vw,13px); }

  /* confetti & hearts overlay */
  canvas#confetti{ position:absolute; inset:0; pointer-events:none; z-index:40; }
  .hearts{ position:absolute; top:12px; right:12px; z-index:41; pointer-events:none;}
  .hearts .h{ font-size: clamp(16px,2.8vw,36px); animation: float 6s linear infinite; opacity:0.95; }

  @keyframes float{
    0%{ transform: translateY(0) translateX(0) scale(.9); opacity:0;}
    10%{ opacity:1;}
    100%{ transform: translateY(-140vh) translateX(40px) scale(1.2); opacity:0;}
  }

  /* small helper for download note on very small screens */
  .download-note{ font-size: 11px; color: var(--muted); margin-top:6px; }
</style>
</head>
<body>
<div class="card" id="card">
  <canvas id="confetti"></canvas>
  <div class="hearts" id="hearts"></div>

  <header>
    <div class="initial">Z</div>
    <div style="flex:1">
      <h1>Untuk Zindo Iviantri ‚Äî Selamat Ulang Tahun</h1>
      <p class="lead">Tekan <strong>Play Mulai</strong> untuk memulai.</p>
      <div class="controls" id="controls">
        <button class="btn-play" id="playBtn">‚ú® Play Mulai</button>
      </div>
    </div>
  </header>

  <div class="main">
    <div class="left">
      <div class="viewer" id="viewer">
        <img id="mainImg" src="zindo1.jpg" alt="Zindo">
      </div>
      <div class="thumbs" id="thumbs" aria-hidden="false"></div>
    </div>

    <div class="right">
      <div class="message" id="messageBox">
Selamat ulang tahun...

Di hari spesialmu ini, aku ingin mengucapkan terima kasih karena pernah menjadi bagian penting dalam hidupku.

Kamu pernah membuatku tersenyum, bahagia, belajar mencintai dengan tulus, sekaligus belajar mengikhlaskan dengan lapang.

Dari cerita kita, aku paham bahwa pertemuan memberi makna, dan perpisahan mengajarkan kedewasaan.

Meski kini kita berjalan di jalan masing-masing dan tak lagi saling mengabari, aku tetap menyimpan kebaikanmu.

Aku berdoa agar kamu tegar menjalani hidup.

Biarlah kenangan menjadi bagian perjalanan yang membentuk diri kita. Semoga langkahmu ke depan dipenuhi hal yang layak.

Terima kasih, dan semoga ulang tahunmu membawa kedamaian.
      </div>
      <div class="note">Jika memang takdirnya, sampai jumpa di versi terbaik masing-masing.</div>
      <div class="download-note">Í¶≤Í¶èÍ¶∏ Í¶©Í¶∫Í¶öÍßÄÍ¶ïÍ¶∂Í¶§ÍßÄÍ¶†Í¶≤Í¶∂Í¶©Í¶∏.</div>
    </div>
  </div>
</div>

<audio id="bgAudio" preload="auto">
  <source src="lagu.mp3" type="audio/mpeg">
</audio>

<script>
/* ---------- CONFIG ---------- */
const collageSpeedMs = 350; // standar nyaman
const localImages = [
  'zindo1.jpg','zindo2.jpg','zindo3.jpg','zindo4.jpg','zindo5.jpg',
  'zindo6.jpg','zindo7.jpg','zindo8.jpg','zindo9.jpg','zindo10.jpg'
];
/* ---------------------------- */

const gallery = localImages.map(name => ({ name, dataUrl: name }));
const mainImg = document.getElementById('mainImg');
const thumbs = document.getElementById('thumbs');
const msgBox = document.getElementById('messageBox');
const bgAudio = document.getElementById('bgAudio');
const playBtn = document.getElementById('playBtn');
const heartsRoot = document.getElementById('hearts');

let collageTimer = null;
let collageIndex = 0;
let collageRunning = false;

/* Build thumbnails responsively */
function buildThumbs(){
  thumbs.innerHTML = '';
  gallery.forEach((g,i)=>{
    const t = document.createElement('div');
    t.className = 'thumb' + (i===0 ? ' active' : '');
    t.setAttribute('role','button');
    t.setAttribute('tabindex','0');
    const img = document.createElement('img');
    img.src = g.dataUrl;
    img.alt = `foto ${i+1}`;
    t.appendChild(img);
    t.addEventListener('click', ()=> {
      stopCollage();
      showImage(i);
    });
    t.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); t.click(); }});
    thumbs.appendChild(t);
  });
  mainImg.src = gallery[0].dataUrl;
}
function setActiveThumb(i){
  const nodes = Array.from(thumbs.children);
  nodes.forEach((n,idx)=> n.classList.toggle('active', idx === i));
}
function showImage(i){
  if(i < 0 || i >= gallery.length) return;
  mainImg.src = gallery[i].dataUrl;
  setActiveThumb(i);
  collageIndex = i;
}
buildThumbs();

/* COLLAGE cycling */
function startCollage(){
  if(collageRunning) return;
  collageRunning = true;
  collageIndex = (collageIndex + 1) % gallery.length;
  collageTimer = setInterval(()=>{
    showImage(collageIndex);
    collageIndex = (collageIndex + 1) % gallery.length;
  }, collageSpeedMs);
}
function stopCollage(){
  collageRunning = false;
  if(collageTimer){ clearInterval(collageTimer); collageTimer = null; }
}

/* Play behavior */
playBtn.addEventListener('click', async ()=>{
  try{
    bgAudio.currentTime = 0;
    await bgAudio.play();
  }catch(e){
    console.warn('Audio play blocked or failed:', e);
  }

  // Tampilkan pesan dulu baru jalankan typewriter
  msgBox.style.opacity = 1;

  // Jalankan typewriter (mengambil teks yang sudah ada di msgBox)
  typeWriter(msgBox, 16);

  startConfetti();
  makeHearts(12);
  startCollage();
  setTimeout(()=> stopConfetti(), 9000);
});

/* Stop collage on pause/end */
bgAudio.addEventListener('pause', ()=> stopCollage());
bgAudio.addEventListener('ended', ()=> stopCollage());

/* Typewriter */
function typeWriter(el, speed=18){
  const text = el.textContent;
  el.textContent = '';
  let i = 0;
  function step(){
    if(i < text.length){
      el.textContent += text.charAt(i++);
      setTimeout(step, speed);
    }
  }
  step();
}

/* Confetti canvas (lightweight) */
const confCanvas = document.getElementById('confetti');
const ctx = confCanvas.getContext('2d');
let W,H;
function resize(){ W=confCanvas.width = confCanvas.clientWidth; H=confCanvas.height = confCanvas.clientHeight; }
new ResizeObserver(resize).observe(confCanvas);
function rand(a,b){ return Math.random()*(b-a)+a; }
function Particle(){ this.x=rand(0,W); this.y=rand(-H,0); this.w=rand(6,14); this.h=rand(8,20); this.vx=rand(-1.2,1.2); this.vy=rand(1.2,4.2); this.r=rand(0,Math.PI*2); this.color=['#ff6b81','#ffd166','#6bf178','#6bd1ff','#c79bff'][Math.floor(rand(0,5))]; }
Particle.prototype.update=function(){ this.x+=this.vx; this.y+=this.vy; if(this.y>H+40){ this.y=rand(-H,0); this.x=rand(0,W); } };
Particle.prototype.draw=function(c){ c.save(); c.translate(this.x,this.y); c.rotate(this.r); c.fillStyle=this.color; c.fillRect(-this.w/2,-this.h/2,this.w,this.h); c.restore(); };
let parts=[]; for(let i=0;i<140;i++) parts.push(new Particle());
let running=false;
function startConfetti(){ running=true; }
function stopConfetti(){ running=false; }
function loop(){ ctx.clearRect(0,0,W,H); if(running){ parts.forEach(p=>{ p.update(); p.draw(ctx); }); } requestAnimationFrame(loop); }
loop();

/* Hearts */
function makeHearts(n){
  heartsRoot.innerHTML = '';
  const chars=['üíñ','‚ù§Ô∏è','üíï','üíó'];
  for(let i=0;i<n;i++){
    const d = document.createElement('div'); d.className='h';
    d.style.left = (5 + Math.random()*80) + '%';
    d.style.animationDuration = (6 + Math.random()*6) + 's';
    d.style.fontSize = (14 + Math.random()*30) + 'px';
    d.textContent = chars[Math.floor(Math.random()*chars.length)];
    heartsRoot.appendChild(d);
  }
}

/* optional: pause collage when user navigates thumbnails with keyboard */
document.addEventListener('keydown', (e)=>{
  if(e.key === 'ArrowRight' || e.key === 'ArrowLeft'){
    const currentIdx = Array.from(thumbs.children).findIndex(n => n.classList.contains('active'));
    if(currentIdx < 0) return;
    const next = e.key === 'ArrowRight' ? (currentIdx+1) % thumbs.children.length : (currentIdx-1+thumbs.children.length)%thumbs.children.length;
    stopCollage();
    thumbs.children[next].click();
  }
});
</script>
</body>
</html>
